---
import Search from "./widgets/Search.astro";
import Categories from "./widgets/Categories.astro";
import ContentList from "./widgets/ContentList.astro";

// Destructure Astro props with default values
const {
  layout = "classic",
  columns = 2,
  filterContent,
  pagination = {
    enable: true,
    currentPage: 1,
  },
} = Astro.props;
---

<section>
  <div class="container">
    <!-- Top Section: Search and Categories -->
    <div class="mb-12 space-y-8">
      <div class="mx-auto max-w-2xl">
        <Search blogCardLayout={layout} />
      </div>
      <div class="border-b border-border-light pb-8">
        <Categories />
      </div>
    </div>

    <!-- Main Content: Blog Posts -->
    <div class="grid grid-cols-1 gap-x-6 gap-y-16">
      <div class="has-video-modal space-y-10 bg-white p-5 lg:p-8 box-shadow-primary rounded-lg">
        <ContentList
          filter={filterContent}
          pagination={pagination}
          options={{
            columns: 3, 
            layout: "grid",
            content: "blog",
            card: { layout },
          }}
        />
      </div>
    </div>
  </div>
</section>

<script>
  // Sidebar sticky script removed as sidebar is no longer used
</script>
